"use strict";var root=this;!function(){function a(){this.rules=[]}function b(){this.message="Default validation rule"}function c(){this.failedRules=[]}function d(a,c){b.call(this,arguments),ensure(a,Number),ensure(c,Number),this.min=a,this.max=c}function e(a,c){b.call(this,arguments),ensure(a,Number),ensure(c,Number),this.min=a,this.max=c}function f(a){b.call(this,arguments),ensure(a,Array),this.validValues=a}function g(){}function h(a){this.fieldName=a}var i={};a.prototype.addRule=function(a,c,d){ensure(a,String),ensure(c,b),void 0===this.rules[a]&&(this.rules[a]=[]);var e={rule:c,customMessage:d};this.rules[a].push(e)},a.prototype.validate=function(a){var b,d=new c,e=0;for(b in a)a.hasOwnProperty(b)&&void 0!==this.rules[b]&&this.rules[b].forEach(function(c){c.rule.execute(a[b],a)||(d.addFailedRule(b,a[b],c.rule,c.customMessage),e+=1)});if(e>0)throw d;return!0},b.prototype.execute=function(){return!0},b.prototype.getMessage=function(){return this.message},c.prototype=new Error,c.prototype.constructor=c,c.prototype.addFailedRule=function(a,c,d,e){ensure(a,String),ensure(d,b),this.failedRules.push({field:a,value:c,rule:d,message:e||d.getMessage(a)})},c.prototype.getMessages=function(){var a=[];return a=this.failedRules.map(function(a){return a.message})},c.prototype.getFailedRules=function(){return this.failedRules},d.prototype=new b,d.prototype.getMessage=function(a){return a+" must be a number between "+this.min+" to "+this.max},d.prototype.execute=function(a){return ensure.isNotNumber(a)?!1:a<this.min||a>this.max?!1:!0},e.prototype=new b,e.prototype.getMessage=function(a){return a+" must be between "+this.min+" to "+this.max+" characters long"},e.prototype.execute=function(a){return ensure.isNotString(a)?!1:a.length<this.min||a.length>this.max?!1:!0},f.prototype=new b,f.prototype.getMessage=function(a){var b="";return this.validValues.forEach(function(a){b+=a+" "}),a+" must be equal to one of the following values: "+b},f.prototype.execute=function(a){return ensure.isIn(a,this.validValues)},g.prototype=new b,g.prototype.getMessage=function(a){return a+" is required"},g.prototype.execute=function(a){return void 0!==a},h.prototype=new b,h.prototype.getMessage=function(a){return a+" must match "+this.fieldName},h.prototype.execute=function(a,b){return b.hasOwnProperty(this.fieldName)&&b[this.fieldName]===a?!0:!1},i.Validator=a,i.ValidationRule=b,i.ValidationError=c,i.MinMaxRule=d,i.MinMaxLengthRule=e,i.InArrayRule=f,i.RequiredRule=g,i.EqualsFieldRule=h,"undefined"!=typeof module&&module.exports&&(module.exports=i),root.legit=i}();